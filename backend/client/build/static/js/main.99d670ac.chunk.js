(this.webpackJsonpquizocode=this.webpackJsonpquizocode||[]).push([[4],{13:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(2),a=n.n(r),c=n(3),u=n(6),o={query:function(){return s.apply(this,arguments)},signup:function(e){return i.apply(this,arguments)},login:function(e){return l.apply(this,arguments)},logout:function(){return p.apply(this,arguments)},getUser:function(e){return f.apply(this,arguments)},updateUser:function(e){return m.apply(this,arguments)}};function s(){return(s=Object(c.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.get("user/");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function i(){return(i=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.post("auth/signup",t);case 2:if(!(n=e.sent)){e.next=7;break}return e.abrupt("return",h(n));case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(){return(l=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.post("auth/login",t);case 2:return n=e.sent,e.abrupt("return",h(n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(){return(p=Object(c.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.post("auth/logout");case 2:sessionStorage.clear();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(){return(f=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.get("user/".concat(t));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(){return(m=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.put("user/".concat(t._id),t);case 2:return h(n=e.sent),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e){if(e)return sessionStorage.setItem("user",JSON.stringify(e)),e}},17:function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return h}));var r=n(2),a=n.n(r),c=n(3),u=n(15),o=n(1),s=n.n(o),i=n(11),l=function(e,t){switch(t.type){case"SET_USER":return Object(i.a)(Object(i.a)({},e),{},{loggedInUser:t.user});case"SET_USERS":return Object(i.a)(Object(i.a)({},e),{},{users:t.users});case"LOGOUT":return Object(i.a)(Object(i.a)({},e),{},{loggedInUser:null});default:return e}},p=n(13),f={users:[],loggedInUser:null},m=Object(o.createContext)(f),h=function(e){var t=e.children,n=Object(o.useReducer)(l,f),r=Object(u.a)(n,2),i=r[0],h=r[1];function d(){return(d=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.signup(t);case 2:if(n=e.sent){e.next=5;break}return e.abrupt("return",null);case 5:return x(n),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(){return(b=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.login(t);case 2:x(e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(){return(g=Object(c.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.logout();case 2:h({type:"LOGOUT",user:null});case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(){return(E=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.query(t);case 2:n=e.sent,h({type:"SET_USERS",users:n});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(){return(y=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.updateUser(t);case 2:x(e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(){return(v=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.getUser(t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e){h({type:"SET_USER",user:e})}return Object(o.useEffect)((function(){(function(){var e=Object(c.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!sessionStorage.user){e.next=6;break}return t=JSON.parse(sessionStorage.user),e.next=4,p.a.getUser(t._id);case 4:x(e.sent);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),s.a.createElement(m.Provider,{value:{loggedInUser:i.loggedInUser,users:i.users,onSignup:function(e){return d.apply(this,arguments)},onLogin:function(e){return b.apply(this,arguments)},logout:function(){return g.apply(this,arguments)},getUserByID:function(e){return v.apply(this,arguments)},updateUser:function(e){return y.apply(this,arguments)},loadUsers:function(e){return E.apply(this,arguments)}}},t)}},24:function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return d}));var r=n(2),a=n.n(r),c=n(3),u=n(15),o=n(1),s=n.n(o),i=n(11),l=function(e,t){switch(t.type){case"SET_QUIZZES":return Object(i.a)(Object(i.a)({},e),{},{quizzes:t.quizzes});case"SET_QUIZ":return Object(i.a)(Object(i.a)({},e),{},{currQuiz:t.quiz});default:return e}},p=n(6),f={query:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.category?p.a.get("quiz/category/".concat(e.category)):p.a.get("quiz/")},getQuizById:function(e){return p.a.get("quiz/".concat(e))},addQuiz:function(e){return p.a.post("quiz",e)},updateQuiz:function(e){return p.a.put("quiz/question",e)},deleteQuiz:function(e){return p.a.delete("quiz/".concat(e))},getQuestionById:function(e){return p.a.get("quiz/question/".concat(e))}};var m={quizzes:[],currQuiz:null},h=Object(o.createContext)(m),d=function(e){var t=e.children,n=Object(o.useReducer)(l,m),r=Object(u.a)(n,2),i=r[0],p=r[1];function d(){return(d=Object(c.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.query();case 2:t=e.sent,p({type:"SET_QUIZZES",quizzes:t});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(){return(b=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.query({category:t});case 2:if("object"===typeof(n=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return p({type:"SET_QUIZ",quiz:n}),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(){return(g=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.getQuestionById(t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(){return(E=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.updateQuiz(t);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return s.a.createElement(h.Provider,{value:{quizzes:i.quizzes,currQuiz:i.currQuiz,loadQuizzes:function(){return d.apply(this,arguments)},loadQuiz:function(e){return b.apply(this,arguments)},addQuestion:function(e){return E.apply(this,arguments)},loadQuestionById:function(e){return g.apply(this,arguments)}}},t)}},44:function(e,t,n){e.exports=n(71)},49:function(e,t,n){},6:function(e,t,n){"use strict";var r=n(2),a=n.n(r),c=n(3),u=n(38),o=n.n(u).a.create({withCredentials:!0});function s(e){return i.apply(this,arguments)}function i(){return(i=Object(c.a)(a.a.mark((function e(t){var n,r,c,u=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:"get",r=u.length>2&&void 0!==u[2]?u[2]:null,e.prev=2,e.next=5,o({url:"".concat("/api/").concat(t),method:n,data:r});case 5:return c=e.sent,e.abrupt("return",c.data);case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0,"HTTP REQUEST IS NOT VALID");case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}t.a={get:function(e,t){return s(e,"GET",t)},post:function(e,t){return s(e,"POST",t)},put:function(e,t){return s(e,"PUT",t)},delete:function(e,t){return s(e,"DELETE",t)}}},71:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(37),u=n.n(c),o=(n(49),n(10)),s=n(4),i=n(17),l=n(24),p=n(2),f=n.n(p),m=n(3),h=n(15),d=n(41),b=n(40),g=n(23),E=n.n(g);var y=function(){var e=Object(r.useContext)(i.a),t=e.loggedInUser,n=e.logout,c=Object(r.useState)(!1),u=Object(h.a)(c,2),l=u[0],p=u[1],g=Object(s.f)(),y=function(){var e=Object(m.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!1),e.next=3,n();case 3:g.push("/"),E.a.fire("Logged out successfully.","","success");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=t?a.a.createElement(a.a.Fragment,null,a.a.createElement(o.b,{className:"user-profile",to:"/profile/"+t._id,onClick:function(){return p(!1)},title:"Profile"},a.a.createElement("span",null,a.a.createElement("img",{src:t.imgUrl,alt:"User"}))),a.a.createElement(o.b,{className:"logout",onClick:y,to:"/"},a.a.createElement("span",null,"Logout"))):a.a.createElement(a.a.Fragment,null,a.a.createElement(o.b,{to:"/login",onClick:function(){return p(!1)}},a.a.createElement("span",null,"Login")),a.a.createElement(o.b,{to:"/register",onClick:function(){return p(!1)}},a.a.createElement("span",null,"Register")));return a.a.createElement("nav",{className:"navbar"},a.a.createElement("div",{className:"wrapper container flex space-between align-center"},a.a.createElement(o.b,{className:"logo",to:"/"},"Quizocode"),a.a.createElement("section",{className:(l?"menu-open ":"")+"nav-links flex align-center justify-end"},l&&a.a.createElement("span",{className:"close-icon-container flex justify-end"},a.a.createElement("span",{className:"close-icon",onClick:function(){return p(!1)}},a.a.createElement(b.a,null))),a.a.createElement(o.b,{to:"/",onClick:function(){return p(!1)}},a.a.createElement("span",null,"Home")),a.a.createElement(o.b,{to:"/ranking",onClick:function(){return p(!1)}},a.a.createElement("span",null,"Ranking")),v),!l&&a.a.createElement(d.a,{className:"burger-icon",onClick:function(e){p(!l)}})),l&&a.a.createElement("span",{className:"screen",onClick:function(){return p(!1)}}))};var v=function(){return a.a.createElement("div",{className:"err-page flex align-center justify-center flex-column"},a.a.createElement("h1",null,"Oops... 404 Can't find this one!"),a.a.createElement(o.b,{to:"/"},"Back to homepage"))},x=n(22);var O=function(){return a.a.createElement("div",{className:"footer flex flex-column align-center justify-center"},a.a.createElement("p",{className:"logo"},"Quizocode"),a.a.createElement("section",{className:"rights flex align-center"},a.a.createElement("span",null,"Created by Or Partush"),a.a.createElement("a",{className:"portfolio",href:"https://orpartush-portfolio.netlify.app/",target:"_blank",rel:"noopener noreferrer"},"Portfolio"),a.a.createElement("section",{className:"social-links"},a.a.createElement("a",{href:"https://www.linkedin.com/in/or-partush/",target:"_blank",rel:"noopener noreferrer"},a.a.createElement(x.b,{className:"sl-icon"})),a.a.createElement("a",{href:"https://github.com/orpartush?tab=repositories",target:"_blank",rel:"noopener noreferrer"},a.a.createElement(x.a,{className:"sl-icon"})))))},w=Object(r.lazy)((function(){return n.e(15).then(n.bind(null,163))})),j=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(13)]).then(n.bind(null,166))})),k=Object(r.lazy)((function(){return Promise.all([n.e(12),n.e(11)]).then(n.bind(null,168))})),z=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(3),n.e(7),n.e(9)]).then(n.bind(null,165))})),S=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(8)]).then(n.bind(null,164))})),U=Object(r.lazy)((function(){return Promise.all([n.e(3),n.e(10)]).then(n.bind(null,167))})),q=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(16),n.e(14)]).then(n.bind(null,169))}));var N=function(){return a.a.createElement(i.b,null,a.a.createElement(l.b,null,a.a.createElement("main",{className:"app flex flex-column"},a.a.createElement(o.a,null,a.a.createElement(y,null),a.a.createElement(r.Suspense,{fallback:a.a.createElement("div",null,"Loading...")},a.a.createElement(s.c,null,a.a.createElement(s.a,{exact:!0,path:"/",component:w}),a.a.createElement(s.a,{exact:!0,path:["/login","/register"],component:j}),a.a.createElement(s.a,{exact:!0,path:"/ranking",component:k}),a.a.createElement(s.a,{exact:!0,path:"/quiz/:category",component:z}),a.a.createElement(s.a,{exact:!0,path:"/add-question",component:S}),a.a.createElement(s.a,{exact:!0,path:"/profile/:id",component:U}),a.a.createElement(s.a,{exact:!0,path:"/edit-profile/:id",component:q}),a.a.createElement(s.a,{component:v}))),a.a.createElement(O,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));u.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(N,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[44,5,6]]]);
//# sourceMappingURL=main.99d670ac.chunk.js.map