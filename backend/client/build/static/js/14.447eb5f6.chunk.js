(this.webpackJsonpquizocode=this.webpackJsonpquizocode||[]).push([[14],{169:function(e,a,t){"use strict";t.r(a);var n=t(74),r=t(11),c=t(2),l=t.n(c),i=t(3),o=t(15),s=t(1),u=t.n(s),m=t(4),d=t(10),p=t(78),f=t(17),b=t(13),h={uploadImg:function(e){var a="https://api.cloudinary.com/v1_1/".concat("quizocode","/image/upload"),t=new FormData;return t.append("file",e[0]),t.append("upload_preset","oklr6qvc"),fetch(a,{method:"POST",body:t}).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return console.error(e)}))}};var j=t(160),E=t(113),g=t(23),v=t.n(g),x=t(114),y=t(83);a.default=function(){var e=Object(s.useContext)(f.a),a=e.loggedInUser,t=e.updateUser,c=Object(s.useState)(""),g=Object(o.a)(c,2),N=g[0],O=g[1],S=Object(s.useState)(null),C=Object(o.a)(S,2),w=C[0],k=C[1],M=Object(s.useState)([]),V=Object(o.a)(M,2),F=V[0],J=V[1],B=Object(s.useState)(""),P=Object(o.a)(B,2),R=P[0],T=P[1],q=Object(m.g)(),D=Object(m.f)(),L=Object(p.a)({mode:"onBlur",validationSchema:E.a({name:E.b().min(2,"Name must have minimum of 2 characters").required()})}),U=L.register,I=L.handleSubmit;Object(s.useEffect)((function(){var e=q.id;(function(){var e=Object(i.a)(l.a.mark((function e(a){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.getUser(a);case 2:t=e.sent,n=t.techs.map((function(e){return{name:e,id:e}})),J(n),t?(k(t),T(t.imgUrl)):D.replace("/err-page");case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}})()(e)}),[]);var Q=function(){var e=Object(i.a)(l.a.mark((function e(n){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.techs=F.map((function(e){return e.name})),c=Object(r.a)(Object(r.a)(Object(r.a)({},a),n),{},{imgUrl:R}),e.next=4,t(c);case 4:D.push("/profile/".concat(w._id)),v.a.fire("Profile updated successfully","","success");case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){""!==N&&function(){var e=Object(i.a)(l.a.mark((function e(){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.uploadImg(N);case 2:a=e.sent,T(a.url);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[N]),u.a.createElement("div",{className:"edit-profile-page container"},u.a.createElement("header",{className:"flex align-center"},u.a.createElement("div",{className:"flex justify-center align-center"},u.a.createElement("img",{src:R,alt:""}),u.a.createElement("p",{className:"title"},"Editing Profile"))),w?u.a.createElement("form",{className:"flex flex-column",onSubmit:I(Q)},u.a.createElement("div",{className:"uploader-label-wrapper flex align-center"},u.a.createElement("label",{className:"uploader",htmlFor:"uploader"},"Change picture"),u.a.createElement("span",{className:"tip-icon"},u.a.createElement(y.a,{"data-tip":"1 : 1 ratio is preferred."}),u.a.createElement(x.a,{place:"top",type:"dark",effect:"float",multiline:!0,className:"tooltip"}))),u.a.createElement("input",{type:"file",name:"uploader",id:"uploader",className:"img-uploader",onChange:function(e){return O(e.target.files)}}),u.a.createElement("label",{htmlFor:"name",className:"flex flex-column"},u.a.createElement("span",null,"Name:"),u.a.createElement("input",{type:"text",name:"name",defaultValue:w.name,ref:U})),u.a.createElement("label",{htmlFor:"role",className:"flex flex-column"},u.a.createElement("span",null,"Role:"),u.a.createElement("input",{type:"text",name:"role",defaultValue:w.role,ref:U})),u.a.createElement("label",{htmlFor:"techs"},u.a.createElement("span",null,"Techs:"),u.a.createElement(j.Multiselect,{options:[{name:"Javascript",id:"Javascript"},{name:"React.js",id:"React.js"},{name:"Angular.js",id:"Angular.js"},{name:"Vue.js",id:"Vue.js"},{name:"Redux",id:"Redux"},{name:"Vuex",id:"Vuex"},{name:"Electron.js",id:"Electron.js"},{name:"SCSS",id:"SCSS"},{name:"CSS3",id:"CSS3"},{name:"HTML5",id:"HTML5"},{name:"Node.js",id:"Node.js"},{name:"MongoDB",id:"MongoDB"},{name:"MySQL",id:"MySQL"},{name:"JQuery",id:"JQuery"},{name:"Cordova.js",id:"Cordova.js"},{name:"Java",id:"Java"},{name:"C",id:"C"},{name:"C++",id:"C++"},{name:"C#",id:"C#"},{name:"Python",id:"Python"},{name:"Django",id:"Django"},{name:".NET",id:".NET"},{name:"Git",id:"Git"},{name:"Bitbucket",id:"Bitbucket"},{name:"NPM",id:"NPM"},{name:"Bootstrap",id:"Bootstrap"}],selectedValues:F,onSelect:function(e,a){console.log("selectedItem:",a),J([].concat(Object(n.a)(F),[a]))},onRemove:function(e,a){J(e)},displayValue:"name",closeOnSelect:!1,avoidHighlightFirstOption:!0,style:{multiselectContainer:{minWidth:"100%"},inputField:{borderRadius:"5px",width:"100px"},chips:{width:"fit-content",backgroundColor:"#fc335d"}}})),u.a.createElement("label",{htmlFor:"summery",className:"flex flex-column"},u.a.createElement("span",null,"Summery:"),u.a.createElement("textarea",{type:"text",name:"summery",cols:"60",rows:"6",defaultValue:w.summery,ref:U})),u.a.createElement("section",{className:"btns"},u.a.createElement("button",{className:"submit-btn",type:"submit"},"Save Changes"),u.a.createElement(d.b,{className:"cancel-btn",to:"/profile/".concat(w._id)},"Cancel"))):u.a.createElement("p",null,"Loading..."))}}}]);
//# sourceMappingURL=14.447eb5f6.chunk.js.map